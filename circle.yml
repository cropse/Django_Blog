# general:
#     artifacts:
#         - "dist/avame-0.1.0+${CIRCLE_BUILD_NUM}.tgz"

dependencies:
    override:
        - sudo apt-get install  nginx uwsgi python3 build-essential python3-dev python3-setuptools python3-pip -y
        - sudo apt-get install uwsgi-plugin-python3 -y
        # - sudo mkdir -p /usr/local/lib
        # - sudo pip install -U pip
        # - sudo easy_install -U setuptools
        - pyenv global 3.6.0
        - pip3 install -r $HOME/Django_Blog/requirement.txt
        # - pip install selenium
        - export DJANGO_SETTINGS_MODULE=src.settings.production

test:
    override:
        - python3 $HOME/Django_Blog/src/manage.py test